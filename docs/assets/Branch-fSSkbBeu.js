import{_ as w,o as s,c as n,p as A,a as F,b as t,d as M,F as T,r as j,e as G,n as L,f as $,w as S,g as z,T as U,h as I,i as u,t as c,j as J,k as Y,l as Q,m as Z,q as W,s as E,u as f,v as K,x as X,y as x,z as ee,A as b,B as se,C as te,D as ne,E as oe}from"./index-9GzORqsV.js";import{g as ie,l as ae,d as le}from"./index-6tWp7gmV.js";const re={},V=o=>(A("data-v-670bb427"),o=o(),F(),o),ce={t:"1707551930411",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4400",width:"16",height:"16"},de=V(()=>t("path",{d:"M131.11 192.37m32.17 0l700.08 0q32.17 0 32.17 32.17l0 0q0 32.17-32.17 32.17l-700.08 0q-32.17 0-32.17-32.17l0 0q0-32.17 32.17-32.17Z",fill:"#2c2c2c","p-id":"4401"},null,-1)),he=V(()=>t("path",{d:"M131.11 766.83m32.17 0l700.08 0q32.17 0 32.17 32.17l0 0q0 32.17-32.17 32.17l-700.08 0q-32.17 0-32.17-32.17l0 0q0-32.17 32.17-32.17Z",fill:"#2c2c2c","p-id":"4402"},null,-1)),ue=V(()=>t("path",{d:"M449.33 385.09m32.17 0l381.87 0q32.17 0 32.17 32.17l0 0q0 32.17-32.17 32.17l-381.87 0q-32.17 0-32.17-32.17l0 0q0-32.17 32.17-32.17Z",fill:"#2c2c2c","p-id":"4403"},null,-1)),me=V(()=>t("path",{d:"M449.33 578.11m32.17 0l381.87 0q32.17 0 32.17 32.17l0 0q0 32.17-32.17 32.17l-381.87 0q-32.17 0-32.17-32.17l0 0q0-32.17 32.17-32.17Z",fill:"#2c2c2c","p-id":"4404"},null,-1)),pe=V(()=>t("path",{d:"M129.91 512.16L321.14 639.7V384.62L129.91 512.16z",fill:"#2c2c2c","p-id":"4405"},null,-1)),_e=[de,he,ue,me,pe];function fe(o,i){return s(),n("svg",ce,_e)}const ve=w(re,[["render",fe],["__scopeId","data-v-670bb427"]]),ge={},we=o=>(A("data-v-43447039"),o=o(),F(),o),ye={t:"1707620551337",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4227",width:"16",height:"16"},$e=we(()=>t("path",{d:"M937.387 488.107L772.267 372.48c-12.8-9.387-30.294-6.827-40.107 5.547-3.84 4.693-5.547 10.666-5.547 17.066v233.814c0 22.613 25.6 36.693 45.654 22.613l165.546-115.627c14.08-14.08 14.08-36.693-0.426-47.786z m-23.04-274.774H129.28c-18.773 0-34.133-15.36-34.133-34.133s15.36-34.133 34.133-34.133h785.067c18.773 0 34.133 15.36 34.133 34.133s-14.933 34.133-34.133 34.133z m0 665.6H129.28c-18.773 0-34.133-15.36-34.133-34.133s15.36-34.133 34.133-34.133h785.067c18.773 0 34.133 15.36 34.133 34.133s-14.933 34.133-34.133 34.133zM624.213 435.2H129.28c-18.773 0-34.133-15.36-34.133-34.133s15.36-34.134 34.133-34.134h494.933c18.774 0 34.134 15.36 34.134 34.134S643.413 435.2 624.213 435.2z m0.427 221.867H129.28c-18.773 0-34.133-15.36-34.133-34.134s15.36-34.133 34.133-34.133h495.36c18.773 0 34.133 15.36 34.133 34.133v0.427c-0.426 18.347-15.36 33.707-34.133 33.707z",fill:"#2c2c2c","p-id":"4228"},null,-1)),ke=[$e];function Ce(o,i){return s(),n("svg",ye,ke)}const be=w(ge,[["render",Ce],["__scopeId","data-v-43447039"]]),Ie={key:0},Be=["onClick"],Me={key:1,class:"open"},qe=["onClick"],Se=["onClick"],ze=M({__name:"List",props:{list:{}},setup(o){return(i,p)=>{const v=G("List",!0);return s(),n("ul",null,[(s(!0),n(T,null,j(i.list,a=>(s(),n("li",{key:a.id,class:L({open:!a.show})},[$(U,{name:"scale",mode:"out-in"},{default:S(()=>[a.show?(s(),n("div",Ie,[t("i",{class:"fold",onClick:e=>a.show=!a.show},[$(ve)],8,Be),z(i.$slots,"item",{item:a},void 0,!0),$(U,{name:"fade",mode:"out-in"},{default:S(()=>[a.showChildren&&a.children?(s(),I(v,{key:0,list:a.children},{item:S(e=>[z(i.$slots,"item",{item:e.item},void 0,!0)]),_:2},1032,["list"])):u("",!0)]),_:2},1024)])):(s(),n("div",Me,[t("i",{class:"fold",onClick:e=>a.show=!a.show},[$(be)],8,qe),t("i",{class:L(["dot",a.gender?"male":"female"])},null,2),t("b",{onClick:e=>a.show=!a.show},c(a.pname||a.name),9,Se)]))]),_:2},1024)],2))),128))])}}}),Le=w(ze,[["__scopeId","data-v-a496b5de"]]),Ae={},Fe={width:"10",height:"10",fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12",style:{"margin-right":"4px"}},Ve=t("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8 1.25a.75.75 0 000 1.5h1.09L7.54 4.298a.757.757 0 00-.058.066 4 4 0 10.968 1.112.752.752 0 00.15-.117L10.25 3.71V5a.75.75 0 001.5 0V2a.75.75 0 00-.75-.75H8zM5 10a2.5 2.5 0 100-5 2.5 2.5 0 000 5z",fill:"#168EF9"},null,-1),De=[Ve];function Ne(o,i){return s(),n("svg",Fe,De)}const Te=w(Ae,[["render",Ne]]),He={},Ee={width:"10",height:"10",fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12",style:{"margin-right":"4px"}},je=J('<mask id="woman_svg__a" maskUnits="userSpaceOnUse" x="-4" y="-4" width="16" height="16" style="mask-type:alpha;"><path fill="#C4C4C4" d="M-2-2h16v16H-2z"></path></mask><g mask="url(#woman_svg__a)" stroke="#F5588E" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="7.2" cy="4.896" r="3.25"></circle><path d="M1.617 10.511l3.115-3.115M1.904 7.396l2.828 2.829"></path></g>',2),Oe=[je];function Pe(o,i){return s(),n("svg",Ee,Oe)}const Ue=w(He,[["render",Pe]]),Ze=M({__name:"GenderIcon",props:{gender:{type:Boolean}},setup(o){return(i,p)=>i.gender?(s(),I(Te,{key:0})):(s(),I(Ue,{key:1}))}}),Ke=o=>(A("data-v-f9e67af9"),o=o(),F(),o),Re={class:"container"},Ge=Ke(()=>t("h3",{class:"title"},"详细信息",-1)),Je={class:"body"},Ye=M({__name:"Modal",props:{open:{type:Boolean}},emits:["close"],setup(o,{emit:i}){const p=i;function v(){p("close")}return Y(()=>{document.querySelector("#container").style.overflow="hidden"}),Q(()=>{document.querySelector("#container").style.overflow="auto"}),(a,e)=>(s(),I(W,{to:"body"},[t("div",{class:"modal",onClick:Z(v,["self"])},[t("div",Re,[z(a.$slots,"header",{},()=>[Ge],!0),t("div",Je,[z(a.$slots,"body",{},void 0,!0)]),z(a.$slots,"footer",{},()=>[t("button",{onClick:v,class:"btn"},"确认")],!0)])])]))}}),Qe=w(Ye,[["__scopeId","data-v-f9e67af9"]]),y=o=>(A("data-v-10328381"),o=o(),F(),o),We=["textContent"],Xe=["textContent"],xe={key:0,class:"item"},es={class:"item"},ss={key:0},ts={key:1},ns={key:1,class:"item"},os={key:2,class:"item"},is={class:"item"},as={key:0},ls={key:1},rs=["href"],cs={class:"name"},ds=y(()=>t("span",{class:"align"},"姓名",-1)),hs={key:0,class:"level"},us=y(()=>t("span",{class:"align"},"世代",-1)),ms={key:1,class:"pname"},ps=y(()=>t("span",{class:"align"},"乳名",-1)),_s={class:"gender"},fs=y(()=>t("span",{class:"align"},"性别",-1)),vs={key:2,class:"mate"},gs=y(()=>t("span",{class:"align"},"配偶",-1)),ws={key:3,class:"age"},ys=y(()=>t("span",{class:"align"},"虚岁",-1)),$s={key:4,class:"birthYear"},ks=y(()=>t("span",{class:"align"},"出生日期",-1)),Cs={key:5,class:"origin"},bs=y(()=>t("span",{class:"align"},"来自",-1)),Is={key:6,class:"phone"},Bs=y(()=>t("span",{class:"align"},"联系电话",-1)),Ms=["href"],qs={key:7,class:"wechat"},Ss=y(()=>t("span",{class:"align"},"微信",-1)),zs={key:8,class:"tags"},Ls=y(()=>t("span",{class:"align"},"其他信息",-1)),As={key:9,class:"image-container"},Fs=["src"],Vs=M({__name:"PersonCard",props:{item:{}},setup(o){const i=e=>e?"男":"女",p=E(!1);function v(e){window.open(e,"_blank")}async function a(e){await navigator.clipboard.writeText(e)}return(e,l)=>{var g;return s(),n(T,null,[t("article",{class:L([e.item.gender?"male":"female",e.item.current?"current":"",e.item.die?"die":""]),onClick:l[1]||(l[1]=_=>p.value=!0)},[t("header",null,[e.item.name?(s(),n("span",{key:0,class:"name",textContent:c(e.item.name)},null,8,We)):u("",!0),e.item.pname?(s(),n("span",{key:1,class:"pname",textContent:c(e.item.pname)},null,8,Xe)):u("",!0)]),t("body",null,[e.item.level?(s(),n("span",xe,"第"+c(e.item.level)+"世",1)):u("",!0),t("span",es,[$(Ze,{gender:!!e.item.gender},null,8,["gender"]),e.item.age?(s(),n("span",ss,c(e.item.age)+"岁",1)):(s(),n("span",ts,c(i(e.item.gender)),1))]),e.item.origin?(s(),n("span",ns,c(e.item.origin),1)):u("",!0),(g=e.item.lunarBirthDay)!=null&&g.slice(5)?(s(),n("span",os,c(e.item.lunarBirthDay.slice(5)),1)):u("",!0),(s(!0),n(T,null,j(e.item.tags,_=>(s(),n("span",is,c(_),1))),256))]),t("footer",null,[e.item.lunarBirthDay?(s(),n("p",as," 出生年份: "+c(e.item.lunarBirthDay.slice(0,4))+"年 ",1)):u("",!0),e.item.phone?(s(),n("p",ls,[f(" 联系电话: "),t("a",{href:`tel:${e.item.phone}`,onClick:l[0]||(l[0]=Z(()=>{},["stop"]))},c(e.item.phone),9,rs)])):u("",!0)])],2),p.value?(s(),I(Qe,{key:0,open:p.value,onClose:l[4]||(l[4]=_=>p.value=!1)},{body:S(()=>[t("p",cs,[ds,f(": "+c(e.item.name),1)]),e.item.level?(s(),n("p",hs,[us,f(": 第"+c(e.item.level)+"世 ",1)])):u("",!0),e.item.pname?(s(),n("p",ms,[ps,f(": "+c(e.item.pname),1)])):u("",!0),t("p",_s,[fs,f(": "+c(i(e.item.gender)),1)]),e.item.mate?(s(),n("p",vs,[gs,f(": "+c(Array.isArray(e.item.mate)?e.item.mate.map(_=>_.name).join("、"):e.item.mate.name),1)])):u("",!0),e.item.age?(s(),n("p",ws,[ys,f(": "+c(e.item.age)+"岁 ",1)])):u("",!0),e.item.lunarBirthDay?(s(),n("p",$s,[ks,f(": "+c(e.item.lunarBirthDay),1)])):u("",!0),e.item.origin?(s(),n("p",Cs,[bs,f(": "+c(e.item.origin),1)])):u("",!0),e.item.phone?(s(),n("p",Is,[Bs,f(": "),t("a",{href:`tel:${e.item.phone}`},c(e.item.phone),9,Ms)])):u("",!0),e.item.phone?(s(),n("p",qs,[Ss,f(": "),t("a",{href:"weixin://",onClick:l[2]||(l[2]=_=>a(e.item.phone))},c(e.item.phone),1)])):u("",!0),e.item.tags?(s(),n("p",zs,[Ls,f(": "+c(e.item.tags.join("、")),1)])):u("",!0),e.item.image?(s(),n("div",As,[t("img",{src:e.item.image,alt:"avatar",class:"image",onClick:l[3]||(l[3]=_=>v(e.item.image))},null,8,Fs)])):u("",!0)]),_:1},8,["open"])):u("",!0)],64)}}}),H=w(Vs,[["__scopeId","data-v-10328381"]]),Ds=["title"],Ns={key:0,class:"close-text"},Ts={key:1,class:"close-text"},Hs=M({__name:"PersonItem",props:{item:{}},setup(o){const{item:i}=o,p=K(),v=X(()=>i.pname?i.pname:i.name.length>1?i.name.slice(1):i.name[0]),a=e=>{var l;(l=e.children)!=null&&l.length&&p.push(`/branch/${e.id}`)};return(e,l)=>{var g,_,k,q,B;return s(),n("section",{class:L({children:((g=e.item.children)==null?void 0:g.length)&&e.item.showChildren})},[t("aside",null,[t("div",{class:"avatar",style:x({"--length":v.value.length+1,cursor:(_=e.item.children)!=null&&_.length?"pointer":"default"}),onClick:l[0]||(l[0]=C=>a(e.item)),title:(k=e.item.children)!=null&&k.length?"点击查看此分支":""},c(v.value),13,Ds),(q=e.item.children)!=null&&q.length?(s(),n("div",{key:0,class:L(["close",{open:e.item.showChildren}]),onClick:l[1]||(l[1]=C=>e.item.showChildren=!e.item.showChildren)},[e.item.showChildren?(s(),n("span",Ts,"收起")):(s(),n("span",Ns,"展开 "+c((B=e.item.children)==null?void 0:B.length),1))],2)):u("",!0)]),$(H,{item:e.item},null,8,["item"]),Array.isArray(e.item.mate)?(s(!0),n(T,{key:0},j(e.item.mate,C=>(s(),I(H,{key:C.name,item:C},null,8,["item"]))),128)):e.item.mate?(s(),I(H,{key:1,item:e.item.mate},null,8,["item"])):u("",!0)],2)}}}),Es=w(Hs,[["__scopeId","data-v-67ea4aad"]]),js={},Os=o=>(A("data-v-0f6d3c68"),o=o(),F(),o),Ps={t:"1707552859824",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4303",width:"16",height:"16"},Us=Os(()=>t("path",{d:"M395.21518 513.604544l323.135538-312.373427c19.052938-18.416442 19.052938-48.273447 0-66.660212-19.053961-18.416442-49.910737-18.416442-68.964698 0L291.75176 480.290811c-19.052938 18.416442-19.052938 48.273447 0 66.660212l357.633237 345.688183c9.525957 9.207709 22.01234 13.796214 34.497699 13.796214 12.485359 0 24.971741-4.588505 34.466999-13.82896 19.052938-18.416442 19.052938-48.242747 0-66.660212L395.21518 513.604544z",fill:"#272636","p-id":"4304"},null,-1)),Zs=[Us];function Ks(o,i){return s(),n("svg",Ps,Zs)}const Rs=w(js,[["render",Ks],["__scopeId","data-v-0f6d3c68"]]),Gs={},Js={width:"18",height:"18",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"FhOy97Hs"},Ys=t("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.875 1.5a6.375 6.375 0 103.642 11.608l3.063 3.063a1.125 1.125 0 001.59-1.591l-3.062-3.063A6.375 6.375 0 007.875 1.5zM3.75 7.875a4.125 4.125 0 118.25 0 4.125 4.125 0 01-8.25 0z",fill:"#4F5168"},null,-1),Qs=[Ys];function Ws(o,i){return s(),n("svg",Js,Qs)}const Xs=w(Gs,[["render",Ws]]),xs={class:"search-container"},et={class:"prefix"},st={class:"container",id:"container"},tt={key:0},nt=M({__name:"Branch",setup(o){const i=E(""),p=oe(),v=K(),a=Number(p.params.id||-1),e=JSON.parse(ee.decrypt(ie)||"[]"),l=e.find(m=>m.id===a);let g=l;for(;g;)g=e.find(m=>m.id===(g==null?void 0:g.pid));function _(){v.push(`/branch/${l==null?void 0:l.pid}`)}const k=E(ae(e,a).map(m=>(m.showChildren=!0,m)));function q(m){for(const r of m)r.current=!1,r.mate&&(Array.isArray(r.mate)?r.mate.forEach(d=>d.current=!1):r.mate.current=!1),r.children&&q(r.children)}function B(m,r){for(const d of m)d.show=r,d.children&&B(d.children,r)}function C(m,r){var d,h;return!!(m.name.includes(r)||(d=m.pname)!=null&&d.includes(r)||(h=m.keywords)!=null&&h.some(N=>r.toLocaleLowerCase().includes(N)))}function O(m,r){const d=[];for(const h of m){if(C(h,r))h.current=!0,h.show=!0,d.push(h);else if(h.mate&&Array.isArray(h.mate))for(const P of h.mate)C(P,r)&&(P.current=!0,h.show=!0,d.push(h));else h.mate&&!Array.isArray(h.mate)&&C(h.mate,r)&&(h.mate.current=!0,h.show=!0,d.push(h));const N=O(h.children,r);d.push(...N),N.length?(h.show=!0,h.showChildren=!0,d.push(h)):h.showChildren=!1}return d}function R(){q(k.value),i.value.trim()?(B(k.value,!1),O(k.value,i.value.trim()),setTimeout(()=>{const m=document.querySelector(".current");m&&m.scrollIntoView({behavior:"smooth",block:"center"})},300)):B(k.value,!0)}const D=le(R,300);return(m,r)=>(s(),n("section",null,[t("header",null,[b(l)?(s(),n("i",{key:0,class:"back",onClick:_},[$(Rs)])):u("",!0),t("div",xs,[t("div",et,[$(Xs)]),se(t("input",{type:"text",placeholder:"请输入关键字","onUpdate:modelValue":r[0]||(r[0]=d=>i.value=d),class:"search",onKeydown:r[1]||(r[1]=ne((...d)=>b(D)&&b(D)(...d),["enter"]))},null,544),[[te,i.value]]),t("button",{class:"suffix",onClick:r[2]||(r[2]=(...d)=>b(D)&&b(D)(...d))},"搜索")])]),t("main",st,[b(l)?(s(),n("h3",tt,c(b(l).name)+" 后裔",1)):u("",!0),$(Le,{list:k.value},{item:S(({item:d})=>[$(Es,{item:d},null,8,["item"])]),_:1},8,["list"])])]))}}),at=w(nt,[["__scopeId","data-v-4f432abe"]]);export{at as default};
